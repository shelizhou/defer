<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>测试页面</title>
</head>
<body>
	
	<script src="defer.js"></script>

	<script type="text/javascript">

    
		var text = Defer(function(dd){
            setTimeout(function(){
                dd.resolve(3,4);
		        console.log(text.state())

            },200)
        }); //.promise();

        // text.reject(1,11);
        console.log(text.state())
        text.done(function(a,b){
            console.log("success:" + a,b)
        }).fail(function(a,b){
            console.log("fail:" + a , b);
        });

        setTimeout(function(){
	        text.done(function(a,b){
	            console.log("------success:"+a,b)
	        }).fail(function(a,b){
	            console.log("------fail:" + a , b);
	        });
        },500)
		
	</script>
</body>
</html>